<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Minuux</title>
    <description></description>
    <link>minuux.github.io/</link>
    <atom:link href="minuux.github.io/feed.xml" rel="self" type="application/rss+xml"/>
    <pubDate>Fri, 27 May 2016 11:05:42 +0000</pubDate>
    <lastBuildDate>Fri, 27 May 2016 11:05:42 +0000</lastBuildDate>
    <generator>Jekyll v3.1.6</generator>
    
      <item>
        <title>vi</title>
        <description>&lt;h1 id=&quot;vi&quot;&gt;vi&lt;/h1&gt;

&lt;h2 id=&quot;section&quot;&gt;编辑模式&lt;/h2&gt;

&lt;p&gt;在普通模式下，输入a（附加命令）、c（修改命令）、i（插入命令）、o（另起新行）、r（取代命令）以及s（替换命令）都将进入编辑模式&lt;/p&gt;

&lt;h2 id=&quot;section-1&quot;&gt;保存退出&lt;/h2&gt;

&lt;p&gt;按esc退回到普通模式，输入 :,左下角将出现输入行，然后输入 wq或x来保存退出vi
&lt;code class=&quot;highlighter-rouge&quot;&gt;
:wq
:x
&lt;/code&gt;&lt;/p&gt;

&lt;h2 id=&quot;section-2&quot;&gt;强制退出，不论是否已经保存&lt;/h2&gt;
&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;:q!

&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

</description>
        <pubDate>Thu, 12 May 2016 08:26:31 +0000</pubDate>
        <link>minuux.github.io/notes/2016/05/12/vi.html</link>
        <guid isPermaLink="true">minuux.github.io/notes/2016/05/12/vi.html</guid>
        
        
        <category>notes</category>
        
      </item>
    
      <item>
        <title>os x</title>
        <description>&lt;p&gt;#osx&lt;/p&gt;

&lt;h2 id=&quot;install-pip&quot;&gt;install pip&lt;/h2&gt;

&lt;p&gt;http://stackoverflow.com/questions/17271319/installing-pip-on-mac-os-x
&lt;code class=&quot;highlighter-rouge&quot;&gt;
sudo easy_install pip
&lt;/code&gt;&lt;/p&gt;
</description>
        <pubDate>Thu, 12 May 2016 08:26:31 +0000</pubDate>
        <link>minuux.github.io/notes/2016/05/12/osx.html</link>
        <guid isPermaLink="true">minuux.github.io/notes/2016/05/12/osx.html</guid>
        
        
        <category>notes</category>
        
      </item>
    
      <item>
        <title>edx</title>
        <description>&lt;h1 id=&quot;edx&quot;&gt;Edx&lt;/h1&gt;

&lt;h2 id=&quot;section&quot;&gt;背景&lt;/h2&gt;
&lt;p&gt;edX是哈佛大学和麻省理工学院共同创立的非营利网络教育项目，旨在为全球提供来自哈佛大学、麻省理工学院、加州大学伯克利分校、清华大学、北京大学、香港大学、香港科技大学等全球顶尖高校及组织的慕课（大规模在线公开课）。课程主题涵盖生物、数学、统计、物理、化学、电子、工程、计算机、经济、金融、文学、历史、音乐、哲学、法学、人类学、商业、医学、营养学等多个学科。&lt;/p&gt;

&lt;h2 id=&quot;section-1&quot;&gt;介绍&lt;/h2&gt;
&lt;p&gt;http://blog.just4fun.site/about-Open-edX.html&lt;/p&gt;

&lt;h2 id=&quot;edx-1&quot;&gt;5种扩展edx的方式&lt;/h2&gt;
&lt;p&gt;https://github.com/edx/edx-platform/wiki/Five-ways-to-extend-edX&lt;/p&gt;

&lt;h2 id=&quot;ie11chromefirefoxsafari&quot;&gt;浏览器支持，必须IE11或chrome,firefox,safari&lt;/h2&gt;
&lt;p&gt;http://edx.readthedocs.io/projects/edx-guide-for-students/en/latest/front_matter/browsers.html&lt;/p&gt;

&lt;h2 id=&quot;section-2&quot;&gt;第三方登陆&lt;/h2&gt;

&lt;p&gt;集成公司的登录方式，但EDX现在只提供了OAUTH2的方式
http://blog.just4fun.site/Open-edX-login-explore.html&lt;/p&gt;

&lt;h2 id=&quot;section-3&quot;&gt;案例&lt;/h2&gt;
&lt;p&gt;http://www.xuetangx.com/&lt;/p&gt;

&lt;h2 id=&quot;section-4&quot;&gt;主题修改&lt;/h2&gt;
&lt;p&gt;http://blog.just4fun.site/edx-front-dev.html
https://github.com/edx/edx-platform/blob/named-release/dogwood.rc/themes/README.rst&lt;/p&gt;

&lt;h2 id=&quot;open-edx&quot;&gt;Open edX开发技能与入门资料&lt;/h2&gt;
&lt;p&gt;http://blog.just4fun.site/open-edx-dev-skill-and-resource.html&lt;/p&gt;

&lt;h2 id=&quot;ansible-&quot;&gt;使用ansible 安装失败&lt;/h2&gt;
&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;cd /var/tmp/configuration/playbooks
sudo ansible-playbook -c local ./edx_sandbox.yml -i &quot;localhost,&quot; --limit @/home/vagrant/edx_sandbox.retry

&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;section-5&quot;&gt;翻译成本地语言&lt;/h2&gt;
&lt;p&gt;localization and development in china
https://github.com/edx/edx-platform/wiki/localization-and-development-in-china 
```
/*
http://www.ichenfei.com/open-edx-nationalization-i18.html
*/&lt;/p&gt;

&lt;p&gt;/&lt;em&gt;删除原有.po翻译文件&lt;/em&gt;/
cd /edx/app/edxapp/edx-platform/conf/locale/zh_CN/LC_MESSAGES/
sudo rm *&lt;/p&gt;

&lt;p&gt;/&lt;em&gt;下载我们翻译做好的.po文件,并更改所有权,通过浏览器下载就不需要更改所有权了&lt;/em&gt;/&lt;/p&gt;

&lt;p&gt;wget http://mirrors.edustack.org/LC_MESSAGES/dogwood/django.po http://mirrors.edustack.org/LC_MESSAGES/dogwood/djangojs.po&lt;/p&gt;

&lt;p&gt;chown edxapp:edxapp django.po djangojs.po&lt;/p&gt;

&lt;p&gt;/&lt;em&gt;切换到edxapp用户加载环境执行翻译&lt;/em&gt;/
sudo -u edxapp bash
source /edx/app/edxapp/edxapp_env
cd /edx/app/edxapp/edx-platform
paver i18n_fastgenerate&lt;/p&gt;

&lt;p&gt;/&lt;em&gt;退出edxapp用户并重启edxapp，最后的:是必要的&lt;/em&gt;/
exit
sudo /edx/bin/supervisorctl restart edxapp:&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;## Docker
edxops/edxapp docker image执行 supervisorctl
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;/edx/app/supervisor/venvs/supervisor/bin/supervisorctl
```
日志 
/edx/var/log&lt;/p&gt;

&lt;h2 id=&quot;section-6&quot;&gt;脚本执行时间&lt;/h2&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;PLAY RECAP ******************************************************************** 
INFO:ansible.callback_plugins.datadog_tasks_timing:edxapp | checkout edx-platform repo into  ----------------- 544.58s
INFO:ansible.callback_plugins.datadog_tasks_timing:mongo | install mongo server and recommends ------------------------------------ 317.94s
INFO:ansible.callback_plugins.datadog_tasks_timing:edxapp_common | Install system packages ----------------------------------------- 96.93s
INFO:ansible.callback_plugins.datadog_tasks_timing:mysql | Install mysql-5.6 and dependencies -------------------------------------- 58.14s
INFO:ansible.callback_plugins.datadog_tasks_timing:rabbitmq | install rabbit package using gdebi ----------------------------------- 44.68s
INFO:ansible.callback_plugins.datadog_tasks_timing:edxapp | install system packages on which LMS and CMS rely ---------------------- 44.03s
INFO:ansible.callback_plugins.datadog_tasks_timing:rabbitmq | install python-software-properties if debian ------------------------- 31.26s
INFO:ansible.callback_plugins.datadog_tasks_timing:edxapp | add ppas for current versions of nodejs -------------------------------- 30.02s
INFO:ansible.callback_plugins.datadog_tasks_timing:mongo | add the mongodb repo to the sources list -------------------------------- 28.09s
INFO:ansible.callback_plugins.datadog_tasks_timing:mysql | Install MySQL community apt repositories -------------------------------- 21.41s
INFO:ansible.callback_plugins.datadog_tasks_timing:
Playbook edx_sandbox finished: Thu May 19 14:48:45 2016, 208 total tasks.  0:22:18 elapsed.

&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;section-7&quot;&gt;配置远程服务&lt;/h2&gt;

&lt;h3 id=&quot;mysql&quot;&gt;mysql&lt;/h3&gt;
&lt;p&gt;数据库
- edxapp
- edxapp_csmh&lt;/p&gt;

&lt;p&gt;用户 edxapp001:password,root:password&lt;/p&gt;

&lt;h3 id=&quot;mongo&quot;&gt;mongo&lt;/h3&gt;
&lt;p&gt;数据库 edxapp
用户 edxapp:password&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;use edxapp
db.createUser(
   {
     user: &quot;edxapp&quot;,
     pwd: &quot;password&quot;,
     roles: [ &quot;readWrite&quot;]
   }
)

use cs_comments_service
db.createUser(
   {
     user: &quot;cs_comments_service&quot;,
     pwd: &quot;password&quot;,
     roles: [ &quot;readWrite&quot;]
   }
)
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h3 id=&quot;memcahce&quot;&gt;memcahce&lt;/h3&gt;

&lt;h3 id=&quot;edx-platform&quot;&gt;edx-platform&lt;/h3&gt;
&lt;p&gt;修改代码，不要从github上复制代码，直接从本地复制
修改 checkout edx-platform repo into 
&lt;code class=&quot;highlighter-rouge&quot;&gt;
- name: checkout edx-platform repo into 
  shell: cp -R /vagrant/edx-platform 
  sudo_user: &quot;&quot;
  register: edxapp_platform_checkout
  tags:
    - install
    - install:code
&lt;/code&gt;&lt;/p&gt;

&lt;h3 id=&quot;section-8&quot;&gt;调整源地址&lt;/h3&gt;
&lt;p&gt;修改palybooks/roles/common_vars/default/main.yml&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;
COMMON_PYPI_MIRROR_URL: &#39;http://mirrors.aliyun.com/pypi/simple&#39;
COMMON_NPM_MIRROR_URL: &#39;https://registry.npm.taobao.org&#39;

&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
</description>
        <pubDate>Thu, 12 May 2016 08:26:31 +0000</pubDate>
        <link>minuux.github.io/notes/2016/05/12/edx.html</link>
        <guid isPermaLink="true">minuux.github.io/notes/2016/05/12/edx.html</guid>
        
        
        <category>notes</category>
        
      </item>
    
      <item>
        <title>docker</title>
        <description>&lt;h1 id=&quot;docker&quot;&gt;Docker&lt;/h1&gt;

&lt;h2 id=&quot;nginx&quot;&gt;nginx&lt;/h2&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;docker run --name nginx -p 80:80 -v /Users/lizhixin/dev/docker/nginx:/usr/share/nginx/html:ro -d nginx

&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;mysql&quot;&gt;mysql&lt;/h2&gt;
&lt;p&gt;osx中使用mysql镜像创建容器会出现volumes无权限加载的情况
解决方法：http://stackoverflow.com/questions/34442831/permission-denied-when-mounting-docker-volume-in-osx&lt;/p&gt;

&lt;p&gt;创建自己的镜像，修改权限&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;	FROM mysql

	RUN usermod -u 1000 mysql
	RUN mkdir -p /var/run/mysqld
	RUN chmod -R 777 /var/run/mysqld

&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;	docker build -t mysql2 .

&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;生成容器&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;docker run -it --name mysql -p 3306:3306 -e MYSQL_ROOT_PASSWORD=123456 -v /Users/lizhixin/dev/edx/mysql:/var/lib/mysql mysql2

&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;docker-machine-&quot;&gt;docker-machine 使用代理&lt;/h2&gt;
&lt;p&gt;修改 vi /var/lib/boot2docker/profile，或者创建的时候就设置
```
	docker-machine create -d virtualbox \
    –engine-env HTTP_PROXY=http://192.168.1.1:8080 \
    –engine-env HTTPS_PROXY=http://192.168.1.1:8080 \
    –engine-env NO_PROXY=localhost \
    –EXTRA_ARGS=”–registry-mirror=http://de1b1668.m.daocloud.io” \
    default&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;

## windows 下使用 docker

安装 Kitematic ，之后使用CMD，运行docker命令
提示无法连接到 daemon

通过 docker-machine ip 查询到machine的IP
设置下面的系统环境变量
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;export DOCKER_HOST=tcp://192.168.99.100:2376
export DOCKER_MACHINE_NAME=default
export DOCKER_TLS_VERIFY=1
export DOCKER_CERT_PATH=C:\Users\li\.docker\machine\machines\default ``` 之后就可以正常使用了
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;但仅仅只能通过本机访问
通过设置virtualbox可以使用局域网中的IP（桥接网络），之后重新通过docker-machine regenerate-certs 生成certs&lt;/p&gt;

&lt;h2 id=&quot;section&quot;&gt;安装成功后需要配置日期时间&lt;/h2&gt;

&lt;p&gt;设置ubuntu的时区&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;echo &quot;Asia/shanghai&quot; &amp;gt; /etc/timezone
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;但PHP或MYSQL还是需要单独设置
找了好久终于找到了解决方法,在容器中执行以下命令就可以了，MYSQL的容器设置后还是需要重启的
http://www.opstool.com/article/320
&lt;code class=&quot;highlighter-rouge&quot;&gt;
cp /usr/share/zoneinfo/Asia/Shanghai /etc/localtime
&lt;/code&gt;&lt;/p&gt;

&lt;h2 id=&quot;boot2docker-&quot;&gt;boot2docker 默认密码&lt;/h2&gt;
&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;docker:tcuser
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
</description>
        <pubDate>Thu, 12 May 2016 08:26:31 +0000</pubDate>
        <link>minuux.github.io/notes/2016/05/12/docker.html</link>
        <guid isPermaLink="true">minuux.github.io/notes/2016/05/12/docker.html</guid>
        
        
        <category>notes</category>
        
      </item>
    
      <item>
        <title>ansible</title>
        <description>&lt;p&gt;#Ansible&lt;/p&gt;

&lt;h2 id=&quot;doc&quot;&gt;doc&lt;/h2&gt;
&lt;p&gt;Ansible中文权威指南 http://www.ansible.com.cn&lt;/p&gt;

&lt;h2 id=&quot;os-x-ubuntu&quot;&gt;使用 OS X 对ubuntu进行管理&lt;/h2&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;brew install ssh-copy-id

/*
生成公钥与私钥
ssh介绍:http://www.ruanyifeng.com/blog/2011/12/ssh_remote_login.html
*/
ssh-keygen

ssh-copy-id user@address

ssh user@address
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

</description>
        <pubDate>Thu, 12 May 2016 08:26:31 +0000</pubDate>
        <link>minuux.github.io/notes/2016/05/12/ansible.html</link>
        <guid isPermaLink="true">minuux.github.io/notes/2016/05/12/ansible.html</guid>
        
        
        <category>notes</category>
        
      </item>
    
      <item>
        <title>Welcome to Jekyll!</title>
        <description>&lt;p&gt;You’ll find this post in your &lt;code class=&quot;highlighter-rouge&quot;&gt;_posts&lt;/code&gt; directory. Go ahead and edit it and re-build the site to see your changes. You can rebuild the site in many different ways, but the most common way is to run &lt;code class=&quot;highlighter-rouge&quot;&gt;jekyll serve&lt;/code&gt;, which launches a web server and auto-regenerates your site when a file is updated.&lt;/p&gt;

&lt;p&gt;To add new posts, simply add a file in the &lt;code class=&quot;highlighter-rouge&quot;&gt;_posts&lt;/code&gt; directory that follows the convention &lt;code class=&quot;highlighter-rouge&quot;&gt;YYYY-MM-DD-name-of-post.ext&lt;/code&gt; and includes the necessary front matter. Take a look at the source for this post to get an idea about how it works.&lt;/p&gt;

&lt;p&gt;Jekyll also offers powerful support for code snippets:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-ruby&quot; data-lang=&quot;ruby&quot;&gt;&lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;print_hi&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;nb&quot;&gt;puts&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;Hi, &lt;/span&gt;&lt;span class=&quot;si&quot;&gt;#{&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;print_hi&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;Tom&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#=&amp;gt; prints &#39;Hi, Tom&#39; to STDOUT.&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Check out the &lt;a href=&quot;http://jekyllrb.com/docs/home&quot;&gt;Jekyll docs&lt;/a&gt; for more info on how to get the most out of Jekyll. File all bugs/feature requests at &lt;a href=&quot;https://github.com/jekyll/jekyll&quot;&gt;Jekyll’s GitHub repo&lt;/a&gt;. If you have questions, you can ask them on &lt;a href=&quot;https://talk.jekyllrb.com/&quot;&gt;Jekyll Talk&lt;/a&gt;.&lt;/p&gt;

</description>
        <pubDate>Wed, 27 May 2015 08:26:31 +0000</pubDate>
        <link>minuux.github.io/jekyll/update/2015/05/27/welcome-to-jekyll.html</link>
        <guid isPermaLink="true">minuux.github.io/jekyll/update/2015/05/27/welcome-to-jekyll.html</guid>
        
        
        <category>jekyll</category>
        
        <category>update</category>
        
      </item>
    
  </channel>
</rss>
