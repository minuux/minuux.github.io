---
layout: post
title:  "ubuntu安装ffmpeg"
date:   2016-08-26
categories: notes
---

通过ffmpeg下载安装页面找到了 https://launchpad.net/~mc3man/+archive/ubuntu/trusty-media
通过ppa的方式安装,只能为14.04.*的版本使用


```

    sudo add-apt-repository ppa:mc3man/trusty-media
    sudo apt-get update
    sudo apt-get dist-upgrade

```

从docker下载ubuntu的镜像安装结果发现无 add-apt-repository 这个命令
接着安装 add-apt-repository

via:

- http://saemon.eool.net/?p=253
- https://alair.cn/logs/can-not-use-add-apt-repository.html

```

    apt-get install python-software-properties 
    apt-get install software-properties-common

    
```

安装好之后就可以

```

    sudo add-apt-repository ppa:mc3man/trusty-media
    sudo apt-get update
    sudo apt-get dist-upgrade
    sudo apt-get install ffmpeg
    sudo apt-get install libavformat-dev
```

接着安装 m3u8-segmenter 需要的编译工具

- https://github.com/johnf/m3u8-segmenter
- http://askubuntu.com/questions/45480/installing-aclocal-on-ubuntu-11-04

```
     sudo apt-get install autotools-dev
     sudo apt-get install automake
     sudo apt-get install make
     sudo apt-get install gcc

```

现在来编译 m3u8-segmenter

```

```


好像现在的版本不需要安装m3u8-sgmenter了

```
ffmpeg -i test.MOV -c:v libx264 -c:a aac -f hls /video/output/test.m3u8

```